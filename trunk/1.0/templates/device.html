{% extends "base.html" %}
{% block add_css %}
    <!-- DataTables CSS -->
    <link href="/static/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" rel="stylesheet">

{% endblock add_css %}

{% block page-wrapper %}

<div id="page-wrapper">
    <div class="col-lg-12">
        <div class="panel panel-default">				
			<div class="panel-body">  
			<div class="row"> 

             	<div class="col-lg-6" style="padding-left: 0">
                    <a href="" class="btn btn-sm btn-primary "> 添加资产 </a>
                </div>
                <div class="col-lg-6" style="padding-right: 0">
                             <div class="input-group inline-group">
                                <input type="text" class="form-control m-b input-sm" id="search_input" name="keyword" value="" placeholder="Search">
                                <input type="text" style="display: none">
                                <div class="input-group-btn">
                                    <button id='search_btn' href="search=true" type="button" class="btn btn-sm btn-primary search-btn"  onclick="change_info()">
                                        - 搜索 -
                                    </button>
                                    <button type="button" href="export=true" name="export" class="btn btn-sm btn-success search-btn-excel" onclick="return false">
                                        - 导出 -
                                    </button>
                                </div>
                            </div>
                </div>
            </div>
			<div class="row">
                     <table class="table table-striped table-bordered table-hover">
						<thead>
							<tr>
								<th class="text-center">
                                    <input id="checkall" type="checkbox" class="i-checks" name="checkall" value="checkall" data-editable='false' onclick="check_all('asset_form')">
                                </th>
								<th>Host</th>
								<!-- <th>IP</th> -->
								<th>CPU Cores</th>
								<th>MEM(KB)</th>
								<th>IP</th>
								<th>OS</th>
								<th>Type</th>
								<th>DISK</th> 
								<th>IDC</th>
								<th>HGroup</th>
								<th>操作</th>
							</tr>
						</thead>
						<tbody>
					
									{% for dev in devs %}
										                                                           
                                      	<td>{{dev.hostname}}</td>
										<td>{{dev.cpunum}}</td>
										<td>{{dev.hostname}}</td>
										<td>{{dev.hostname}}</td>
										<td>{{dev.hostname}}</td>
                                        <td>{{dev.hostname}}</td>
                                        <td>{{dev.hostname}}</td>
                                        <td>{{dev.hostname}}</td>
                                        <td>{{dev.hostname}}</td>
                                         <td class="text-center" data-editable='false'>
                                        <a href="?id={{ asset.id }}" class="btn btn-xs btn-info">编辑</a>
                                        <a value="{{ asset.id }}" class="conn btn btn-xs btn-warning">连接</a>
                                        <a value="?id={{ asset.id }}" class="btn btn-xs btn-danger asset_del">删除</a>
                                    </td>
                                        
                                  										
									{% endfor %}
						</tbody>
                    </table>
					</div>
				</div>
				</div>
			</div>
			<div class="row">
                            <div class="col-sm-6">
                                <input type="button" id="asset_del" class="btn btn-danger btn-sm"  name="del_button" value="删除"/>
                                <a value="" type="button" class="btn btn-sm btn-warning iframe">修改</a>
                                <input type="button" id="asset_update" class="btn btn-info btn-sm"  name="update_button" value="更新"/>
                               <input type="button" id="asset_update_all" class="btn btn-primary btn-sm"  name="update_button" value="更新全部"/>
                                <input type="button" id="exec_cmd" class="btn btn-sm btn-primary"  name="exec_cmd" value="执行命令"/>
                            </div>
		</div>
		<!-- </div> -->
{% endblock page-wrapper %}


{% block add_script %}
    <!-- DataTables JavaScript -->
    <script src="/static/bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
    <script src="/static/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js"></script>
	
    <script>
    $(document).ready(function() {
        $('#dataTables-example').DataTable({
                responsive: true
        });
    });
    //此函数用于checkbox的全选和反选
var checked=false;
function check_all(form) {
    var checkboxes = document.getElementById(form);
    if (checked == false) {
        checked = true
    } else {
        checked = false
    }
    for (var i = 0; i < checkboxes.elements.length; i++) {
        if (checkboxes.elements[i].type == "checkbox") {
            checkboxes.elements[i].checked = checked;
        }
    }
}

function checkAll(id, name){
    var checklist = document.getElementsByName(name);
    if(document.getElementById(id).checked)
        {
        for(var i=0;i<checklist.length;i++)
        {
          checklist[i].checked = 1;
        }
    }else{
        for(var j=0;j<checklist.length;j++)
        {
         checklist[j].checked = 0;
        }
    }
}

    </script>
{% endblock add_script %}
